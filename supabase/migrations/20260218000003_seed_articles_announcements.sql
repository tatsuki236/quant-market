-- ========================================
-- お知らせサンプルデータ
-- ========================================
INSERT INTO public.announcements (title, content, published_at, is_active)
VALUES
  (
    'QuantMarket正式オープンのお知らせ',
    'QuantMarketは株式・FX・仮想通貨向けのインジケータ・有料記事マーケットプレイスとして正式オープンしました。出品者も募集中です。',
    '2026-02-18T10:00:00+09:00',
    true
  ),
  (
    '有料記事（有料ブログ）機能をリリースしました',
    'トレードの知見やノウハウをまとめた有料記事の販売が可能になりました。無料パートで内容を確認してからご購入いただけます。',
    '2026-02-18T12:00:00+09:00',
    true
  ),
  (
    'Square決済に対応しました',
    'クレジットカード決済（Visa / Mastercard / AMEX / JCB）に対応しました。銀行振込もご利用いただけます。',
    '2026-02-15T09:00:00+09:00',
    true
  ),
  (
    '出品者登録の受付を開始しました',
    '自作インジケータや有料記事を販売したい方は、出品者登録よりお申し込みください。審査完了後に出品が可能になります。',
    '2026-02-14T09:00:00+09:00',
    true
  )
ON CONFLICT DO NOTHING;

-- ========================================
-- 有料記事（ブログ）サンプルデータ → products テーブル
-- ========================================
INSERT INTO public.products (
  slug, name, description, price, platform, market, category,
  icon_name, image, features, is_published, sort_order,
  free_content, paid_content
)
VALUES
  (
    'moving-average-basics',
    '移動平均線の基礎と活用法 - テクニカル分析入門',
    '移動平均線（MA）は、テクニカル分析の基本中の基本です。単純移動平均（SMA）と指数移動平均（EMA）の違い、ゴールデンクロス・デッドクロスの判断方法、トレンド相場での活用法を解説します。',
    980,
    '-',
    'その他',
    '有料記事',
    'TrendingUp',
    '/placeholder.svg',
    ARRAY['テクニカル分析', '移動平均', 'トレンド分析'],
    true,
    100,
    E'# 移動平均線の基礎と活用法\n\n移動平均線（Moving Average, MA）は、テクニカル分析において最も広く使われている指標のひとつです。\n\n## 移動平均線とは？\n\n移動平均線は、一定期間の終値の平均値を線で結んだものです。価格のノイズを取り除き、トレンドの方向性を視覚的に把握できます。\n\n## 主な種類\n\n- **単純移動平均（SMA）**: 指定期間の終値を単純に平均\n- **指数移動平均（EMA）**: 直近の価格に重みを置いた平均\n\n一般的に、短期（5〜25日）、中期（50〜75日）、長期（100〜200日）の移動平均線が使われます。',
    E'## ゴールデンクロスとデッドクロス\n\n### ゴールデンクロス\n短期移動平均線が長期移動平均線を**下から上に突き抜ける**現象です。上昇トレンドへの転換シグナルとして知られています。\n\n### デッドクロス\n短期移動平均線が長期移動平均線を**上から下に突き抜ける**現象です。下降トレンドへの転換シグナルです。\n\n## 実践的な活用法\n\n### 1. トレンドフォロー戦略\n- 価格が200EMAの上 → 買い目線\n- 価格が200EMAの下 → 売り目線\n\n### 2. マルチタイムフレーム分析\n- 日足で方向性を確認\n- 4時間足でエントリータイミングを計る\n- 1時間足で精密なエントリー\n\n### 3. 移動平均の期間設定\n\n| 市場 | 短期 | 中期 | 長期 |\n|------|------|------|------|\n| FX | 20EMA | 50EMA | 200EMA |\n| 株式 | 25SMA | 75SMA | 200SMA |\n| 仮想通貨 | 9EMA | 21EMA | 55EMA |\n\n## 注意点\n\n- レンジ相場ではダマシが多い\n- 移動平均線だけでなく、他の指標と組み合わせることが重要\n- 過去の検証（バックテスト）を必ず行うこと'
  ),
  (
    'rsi-indicator-guide',
    'RSIインジケータの使い方 - 買われすぎ・売られすぎを判断',
    'RSI（相対力指数）は、相場の過熱感を測定するオシレーター系インジケータです。70以上で買われすぎ、30以下で売られすぎとされますが、実際のトレードでの活用には注意点があります。',
    1280,
    '-',
    'その他',
    '有料記事',
    'TrendingUp',
    '/placeholder.svg',
    ARRAY['RSI', 'オシレーター', 'テクニカル分析'],
    true,
    101,
    E'# RSIインジケータの使い方\n\nRSI（Relative Strength Index / 相対力指数）は、J.ウェルズ・ワイルダーが開発したオシレーター系テクニカル指標です。\n\n## RSIの基本\n\nRSIは0〜100の範囲で値動きの強さを数値化します。\n\n- **70以上**: 買われすぎ → 売りシグナルの可能性\n- **30以下**: 売られすぎ → 買いシグナルの可能性\n\n## 計算式\n\nRSI = 100 - (100 / (1 + RS))\n\nRS = 一定期間の値上がり幅の平均 / 一定期間の値下がり幅の平均',
    E'## RSIの実践テクニック\n\n### 1. ダイバージェンス\n\n価格が高値を更新しているのにRSIが高値を更新しない場合、**ベアリッシュダイバージェンス**（弱気の乖離）と呼ばれ、トレンド反転の可能性があります。\n\n逆に、価格が安値を更新しているのにRSIが安値を更新しない場合は**ブリッシュダイバージェンス**です。\n\n### 2. 50ラインの活用\n\nRSIの50ラインは重要なポイントです：\n- RSIが50を上回る → 上昇圧力が優勢\n- RSIが50を下回る → 下降圧力が優勢\n\n### 3. トレンド相場での注意点\n\n強いトレンド相場では、RSIが買われすぎ/売られすぎの水準に長期間留まることがあります。このため：\n\n- **上昇トレンド**: 40-80の範囲で推移しやすい\n- **下降トレンド**: 20-60の範囲で推移しやすい\n\n### 4. 推奨パラメータ\n\n| 用途 | 期間 | 備考 |\n|------|------|------|\n| デフォルト | 14 | ワイルダー推奨 |\n| 短期トレード | 7-9 | 感度が高い |\n| 長期トレード | 21-25 | ノイズが少ない |'
  ),
  (
    'macd-divergence',
    'MACDとダイバージェンス - トレンド転換を捉える',
    'MACD（移動平均収束拡散法）は、トレンドの方向性と勢いを判断するのに有効なインジケータです。価格とMACDの乖離（ダイバージェンス）を活用した、トレンド転換の見極め方を解説。',
    1480,
    '-',
    'その他',
    '有料記事',
    'TrendingUp',
    '/placeholder.svg',
    ARRAY['MACD', 'ダイバージェンス', 'トレンド分析'],
    true,
    102,
    E'# MACDとダイバージェンス\n\nMACD（Moving Average Convergence Divergence）は、トレンドフォローとオシレーターの両方の特性を持つ、非常に人気の高いテクニカル指標です。\n\n## MACDの構成要素\n\n1. **MACDライン**: 短期EMA（12） − 長期EMA（26）\n2. **シグナルライン**: MACDラインの9期間EMA\n3. **ヒストグラム**: MACDライン − シグナルライン\n\n## 基本的なシグナル\n\n- MACDラインがシグナルラインを上抜け → **買いシグナル**\n- MACDラインがシグナルラインを下抜け → **売りシグナル**',
    E'## ダイバージェンスの実践活用\n\n### ダイバージェンスとは\n\n価格の動きとMACDの動きが乖離する現象です。トレンド転換の先行指標として非常に有効です。\n\n### ベアリッシュダイバージェンス（弱気）\n\n```\n価格:  高値A → さらに高値B（高値更新）\nMACD:  高値A → 低い高値B（高値更新せず）\n→ 上昇トレンドの弱体化を示唆\n```\n\n### ブリッシュダイバージェンス（強気）\n\n```\n価格:  安値A → さらに安値B（安値更新）\nMACD:  安値A → 高い安値B（安値更新せず）\n→ 下降トレンドの弱体化を示唆\n```\n\n### ヒドゥンダイバージェンス\n\n通常のダイバージェンスとは逆に、トレンド継続を示唆するパターンです。\n\n### エントリー戦略\n\n1. ダイバージェンスを確認\n2. シグナルラインのクロスを待つ\n3. 価格のサポート/レジスタンスでエントリー\n4. ストップロスは直近の高値/安値の外側に設定\n\n### リスク管理\n\n- ダイバージェンスだけで判断しない\n- 必ず他の指標（出来高、サポレジ等）と組み合わせる\n- 損切り幅を事前に決めてからエントリーする'
  ),
  (
    'bollinger-bands-strategy',
    'ボリンジャーバンドを使ったトレード戦略',
    'ボリンジャーバンドは、価格の変動幅を視覚化するインジケータです。バンドウォーク、スクイーズ、ブレイクアウトなど、様々な相場状況での活用法とトレード戦略を紹介します。',
    1280,
    '-',
    'その他',
    '有料記事',
    'TrendingUp',
    '/placeholder.svg',
    ARRAY['ボリンジャーバンド', 'レンジ相場', 'ブレイクアウト'],
    true,
    103,
    E'# ボリンジャーバンドを使ったトレード戦略\n\nボリンジャーバンド（Bollinger Bands）は、ジョン・ボリンジャーが考案した、価格の変動幅（ボラティリティ）を視覚化するテクニカル指標です。\n\n## ボリンジャーバンドの構成\n\n- **ミドルバンド**: 20期間の単純移動平均（SMA）\n- **アッパーバンド**: ミドルバンド + 2σ（標準偏差）\n- **ロワーバンド**: ミドルバンド − 2σ（標準偏差）\n\n## 統計的な意味\n\n- ±1σ内に約68%の確率で価格が収まる\n- ±2σ内に約95%の確率で価格が収まる\n- ±3σ内に約99.7%の確率で価格が収まる',
    E'## 3つの主要パターン\n\n### 1. スクイーズ（収縮）\n\nバンド幅が狭くなる現象。ボラティリティの低下を示し、大きな値動きの前兆となることが多いです。\n\n**トレード戦略:**\n- スクイーズ発生を確認\n- ブレイクアウトの方向を待つ\n- ブレイクアウト方向にエントリー\n\n### 2. バンドウォーク\n\n価格がアッパーバンドまたはロワーバンドに沿って推移する現象。強いトレンドを示します。\n\n**トレード戦略:**\n- アッパーバンドウォーク → 買いポジション維持\n- ロワーバンドウォーク → 売りポジション維持\n- ミドルバンドへの回帰で利確\n\n### 3. バンド反発（逆張り）\n\nレンジ相場で、アッパーバンドで売り、ロワーバンドで買いを行う戦略です。\n\n**注意:**\n- トレンド相場では使えない\n- 必ずRSIなどのオシレーターと組み合わせる\n\n## パラメータのカスタマイズ\n\n| トレードスタイル | 期間 | 偏差 |\n|------------------|------|------|\n| スキャルピング | 10 | 1.5σ |\n| デイトレード | 20 | 2.0σ |\n| スイングトレード | 50 | 2.5σ |'
  ),
  (
    'mt4-vs-mt5-comparison',
    'MT4とMT5の違い - どちらを選ぶべきか',
    'MT4（MetaTrader 4）とMT5（MetaTrader 5）の機能比較。対応市場、開発言語（MQL4 vs MQL5）、バックテスト機能の違いなど、プラットフォーム選びのポイントを解説します。',
    480,
    '-',
    'その他',
    '有料記事',
    'TrendingUp',
    '/placeholder.svg',
    ARRAY['MT4', 'MT5', 'プラットフォーム'],
    true,
    104,
    E'# MT4とMT5の違い\n\nMetaTrader 4（MT4）とMetaTrader 5（MT5）は、世界中のトレーダーに利用されている取引プラットフォームです。どちらを選ぶべきか、主要な違いを比較します。\n\n## 基本情報\n\n| 項目 | MT4 | MT5 |\n|------|-----|-----|\n| リリース年 | 2005年 | 2010年 |\n| 開発言語 | MQL4 | MQL5 |\n| 対応市場 | 主にFX | FX・株式・先物 |\n\n## MT4が選ばれる理由\n\n- 長い歴史と安定性\n- 膨大な数のカスタムインジケータ\n- 多くのブローカーが対応\n- シンプルで使いやすい',
    E'## MT5の優位点\n\n### 1. マルチアセット対応\n\nMT5は株式、先物、オプションなど、FX以外の市場にも対応しています。複数市場でトレードする方にはMT5が適しています。\n\n### 2. バックテスト機能\n\nMT5のストラテジーテスターは、MT4よりも大幅に強化されています：\n\n- **マルチスレッド対応**: バックテストが高速\n- **リアルティックモード**: より正確なシミュレーション\n- **フォワードテスト**: 最適化結果の検証が可能\n\n### 3. 開発言語（MQL5）\n\nMQL5はオブジェクト指向プログラミングに対応し、より複雑なロジックを効率的に実装できます。\n\n## 選び方のポイント\n\n### MT4がおすすめ\n- FX専門でトレードする方\n- 既にMT4用のインジケータを多数持っている方\n- シンプルな操作性を重視する方\n\n### MT5がおすすめ\n- 株式や先物も取引したい方\n- 高精度なバックテストが必要な方\n- 最新の開発環境を使いたい方\n\n## 移行の注意点\n\n- MQL4のコードはMQL5では直接動作しない（移植が必要）\n- MT4のインジケータはMT5では使用不可\n- ブローカーによってMT5非対応の場合あり'
  ),
  (
    'crypto-indicator-tips',
    '仮想通貨トレードに適したインジケータの選び方',
    '24時間365日動く仮想通貨市場では、従来の株式・FX市場とは異なるアプローチが求められます。ビットコイン・アルトコインのトレードに適したインジケータの選び方を紹介。',
    980,
    '-',
    'その他',
    '有料記事',
    'TrendingUp',
    '/placeholder.svg',
    ARRAY['仮想通貨', 'ビットコイン', 'インジケータ'],
    true,
    105,
    E'# 仮想通貨トレードに適したインジケータの選び方\n\n仮想通貨（暗号資産）市場は、24時間365日稼働し、ボラティリティが高いという特徴があります。従来の株式・FX向けインジケータをそのまま使うのではなく、仮想通貨市場の特性に合わせた設定が重要です。\n\n## 仮想通貨市場の特徴\n\n- 24時間365日取引可能\n- ボラティリティが非常に高い\n- クジラ（大口投資家）の影響が大きい\n- ニュースや規制で急変動しやすい',
    E'## おすすめインジケータと設定\n\n### 1. 移動平均線\n\n仮想通貨では、従来の株式向け設定よりも短い期間が有効です。\n\n| 用途 | 推奨設定 |\n|------|----------|\n| 短期 | 9 EMA |\n| 中期 | 21 EMA |\n| 長期 | 55 EMA |\n\n### 2. RSI\n\n仮想通貨ではボラティリティが高いため、デフォルトの14期間ではシグナルが遅れがちです。\n\n- **推奨期間**: 7〜9\n- **買われすぎ**: 80（通常の70ではなく）\n- **売られすぎ**: 20（通常の30ではなく）\n\n### 3. ボリンジャーバンド\n\n- 期間: 20\n- 偏差: 2.5σ（ボラティリティが高いため広めに設定）\n\n### 4. 出来高分析\n\n仮想通貨では出来高が非常に重要です。\n\n- **OBV（オンバランスボリューム）**: トレンドの強さを確認\n- **VWAP**: 機関投資家の平均取得価格を推定\n\n### 5. オンチェーン指標との併用\n\n仮想通貨固有の指標：\n- ハッシュレート\n- アクティブアドレス数\n- 取引所への入出金量\n\nこれらをテクニカル指標と組み合わせることで、より精度の高い分析が可能です。\n\n## ビットコインとアルトコインの違い\n\n- **ビットコイン**: 流動性が高く、テクニカル分析が比較的機能しやすい\n- **アルトコイン**: BTC/USD相関が強いため、ビットコインの動向も必ず確認する'
  )
ON CONFLICT (slug) DO NOTHING;
